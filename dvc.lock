schema: '2.0'
stages:
  get_ncbi_refseq:
    cmd: bash pipeline/s0.0_get_ncbi_refseq.sh
    deps:
    - path: pipeline/s0.0_get_ncbi_refseq.sh
      md5: 837b5f5eafaeb1bce06b909476276d05
      size: 8151
    outs:
    - path: ./data/refseq
      md5: 7e3fa86ff45297a95e4e235097ca92c7.dir
      size: 52933152676
      nfiles: 16664

  get_bacdive_ogt:
    cmd: python pipeline/s0.1_get_bacdive_ogt.py
    deps:
    - path: ./data/refseq
      md5: 7e3fa86ff45297a95e4e235097ca92c7.dir
      size: 52933152676
      nfiles: 16664
    - path: pipeline/s0.1_get_bacdive_ogt.py
      md5: 2be959a8c38618f0cc0099f7171f190e
      size: 8538
    params:
      pipeline/s0_data_extraction_params.yaml:
        get_bacdive_ogt.n_jobs: 6
        get_bacdive_ogt.n_sample:
    outs:
    - path: ./data/metrics/s0.1_metrics.yaml
      md5: b057c231026ca4b0fa9d2fc8e3307d46
      size: 78
    - path: ./data/taxa/taxa_info_and_ogt.csv
      md5: a5bb1873b2aeac4026516a91dd94c3e1
      size: 3826414
  get_proteins:
    cmd: python pipeline/s1.1_get_protein_sequences.py
    deps:
    - path: ./data/refseq
      md5: 7e3fa86ff45297a95e4e235097ca92c7.dir
      size: 52933152676
      nfiles: 16664
    - path: ./data/taxa/taxa_info_and_ogt.csv
      md5: a5bb1873b2aeac4026516a91dd94c3e1
      size: 3826414
    - path: pipeline/s1.1_get_protein_sequences.py
      md5: 252165632064f060cb1fcaf63a017ff2
      size: 4225
    params:
      pipeline/s1_data_processing_params.yaml:
        get_protein_sequences.n_jobs: 6
        get_protein_sequences.n_sample: 20
    outs:
    - path: ./data/metrics/s1.1_metrics.yaml
      md5: e2817c2f29e642b4e6ae6736fe9b2529
      size: 49
    - path: ./data/taxa/16s_rRNA.csv
      md5: bd484b364ba9e6db7443e61186d02841
      size: 26482
    - path: ./data/taxa/proteins.csv
      md5: b5dfd69073904136fb1554172f84724c
      size: 35115546
